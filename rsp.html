<script>
    function computerPlay(){
        let alternativer = ['rock', 'paper', 'scissors'];
        let valg = Math.floor(Math.random() * alternativer.length);
        return alternativer[valg];
    }

    function playRound(playerSelection, computerSelection){
        playerSelection = playerSelection.toLowerCase();
        computerSelection = computerSelection.toLowerCase();

        switch(playerSelection){
            case 'rock':
                switch(computerSelection){
                    case 'rock':
                        return 'Draw!';
                        break;
                    case 'paper':
                        return 'You lose! Paper beats Rock!';
                        break;
                    case 'scissors':
                        return 'You win! Rock beats Scissors!';
                        break;
                    }
                break;
            case 'paper':
                switch(computerSelection){
                    case 'rock':
                        return 'You win! Paper beats Rock';
                        break;
                    case 'paper':
                        return 'Draw!';
                        break;
                    case 'scissors':
                        return 'You lose! Scissors beats Paper!';
                        break;
                }
                break;
            case 'scissors':
                switch(computerSelection){
                    case 'rock':
                        return 'You lose! Rock beats Scissors';
                        break;
                    case 'paper':
                        return 'You win! Scissors beats Papper!';
                        break;
                    case 'scissors':
                        return 'Draw!';
                        break;
                }
                break;
            default:
                    return 'ERROR! Player selection illegal. Only \'rock\', \'paper\' or \'scissors\' is allowed.';
        }
    }

    function game(){
        let playerSelection = null;
        while(playerSelection !== 'x'){
            playerSelection = window.prompt('Choose your weapon: [rock / paper / scissors]. Press x to quit');
            if(playerSelection === 'x'){
                alert('Game ended by user...');
                break;
            }
            let computerSelection = computerPlay();
            alert('Computer selected: ' + computerSelection + '\n' + playRound(playerSelection, computerSelection));
        }
    }

    game();

    
</script>